<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="TransportConfig" type="NServiceBus.Config.TransportConfig, NServiceBus.Core" />
    <section name="UnicastBusConfig" type="NServiceBus.Config.UnicastBusConfig, NServiceBus.Core" />
    <section name="MasterNodeConfig" type="NServiceBus.Config.MasterNodeConfig, NServiceBus.Core" />
    <section name="MessageForwardingInCaseOfFaultConfig" type="NServiceBus.Config.MessageForwardingInCaseOfFaultConfig, NServiceBus.Core" />
	<section name="SecondLevelRetriesConfig" type="NServiceBus.Config.SecondLevelRetriesConfig, NServiceBus.Core" />
	<section name="Logging" type="NServiceBus.Config.Logging, NServiceBus.Core" />
  </configSections>

  <!-- The following elements are generated by ServiceMatrix on the Infrastructure\GeneratedCode\Config folder -->
  <!-- Please do not change the lines between BEGIN and END -->
  <!-- BEGIN -->
  <TransportConfig configSource="Infrastructure\GeneratedCode\Config\TransportConfig.config"/>
  <UnicastBusConfig configSource="Infrastructure\GeneratedCode\Config\UnicastBusConfig.config"/>
  <MasterNodeConfig configSource="Infrastructure\GeneratedCode\Config\MasterNodeConfig.config"/>
  <MessageForwardingInCaseOfFaultConfig configSource="Infrastructure\GeneratedCode\Config\MessageForwardingInCaseOfFaultConfig.config"/>
  <SecondLevelRetriesConfig configSource="Infrastructure\GeneratedCode\Config\SecondLevelRetriesConfig.config"/>
  <Logging configSource="Infrastructure\Logging.config"/>
  <!-- END -->
  
  <connectionStrings configSource="Infrastructure\GeneratedCode\Config\TransportConnectionString.config" />
  
  <appSettings>
	  <add key="EndpointConfigurationType" value="LFM.Submissions.LandRegistry.Gateway.EndpointConfig, LFM.Submissions.LandRegistry.Gateway" />
  </appSettings>

  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="CertPortBinding" closeTimeout="00:01:00" openTimeout="00:01:00"
          receiveTimeout="00:10:00" sendTimeout="00:01:00" bypassProxyOnLocal="false"
          hostNameComparisonMode="StrongWildcard" maxBufferSize="65536000"
          maxBufferPoolSize="524288" maxReceivedMessageSize="65536000"
          messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true">
          <readerQuotas maxDepth="32" maxStringContentLength="65536000"
            maxArrayLength="16384" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <security mode="Transport">
            <transport clientCredentialType="Certificate" proxyCredentialType="None"
              realm="">
              <extendedProtectionPolicy policyEnforcement="Never" />
            </transport>
            <message clientCredentialType="UserName" />
          </security>
        </binding>
      </basicHttpBinding>
    </bindings>
    <client>
      <endpoint address="https://bgtest.landregistry.gov.uk/b2b/ECDRS_StubService/EDocumentRegistrationV1_0PollRequestWebService"
        binding="basicHttpBinding"
        bindingConfiguration="CertPortBinding" contract="EdrsPollRequestService.EDocumentRegistrationV1_0PollRequestService"
        name="EDocumentRegistrationV1_0PollRequestWSImplPort" />
    </client>
  </system.serviceModel>
</configuration>
